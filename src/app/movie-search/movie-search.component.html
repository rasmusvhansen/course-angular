<div>
  <input
    [formControl]="query"
    placeholder="search"
    type="search"
    class="query"
    required
    pattern=".*shark.*"
  />
</div>
<div>{{ query.errors | json }}</div>
@if (query.dirty) {
  @if (query.errors?.["required"]) {
    <div class="error">Please input a search term</div>
  }
  @if (query.errors?.["maxlength"]) {
    <div class="error">
      {{ query.errors?.["maxlength"]?.actualLength }} characters is too damn
      long a query. Max is {{ query.errors?.["maxlength"]?.requiredLength }}
    </div>
  }
  @if (query.errors?.["rickLidator"]) {
    <div class="error">Please don't Rickroll us.</div>
  }
  @if (query.errors?.["pattern"]) {
    <div class="error">Only search for shark related movies</div>
  }
}

@for (movie of movies$ | async; track movie.id) {
  <app-movie [movie]="movie"></app-movie>
}
